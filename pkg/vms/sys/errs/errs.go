package errs

import (
	"errors"
	"strconv"
	"syscall"
)

var errMap = map[syscall.Errno]string{
	// EPERM：操作不被允许（无足够特权执行该操作）
	// 核心含义：普通用户尝试执行需要root/管理员特权的操作，操作系统拒绝执行
	// 常见场景：1. 普通用户绑定1024以下的知名端口（如80、443）；2. 修改系统级只读文件；3. 杀死不属于自己的进程
	syscall.EPERM: "EPERM",

	// ENOENT：文件或目录不存在
	// 核心含义：指定的文件路径、目录路径不存在，无法执行后续操作
	// 常见场景：1. 打开不存在的文件（如/tmp/non_exist.txt）；2. 访问不存在的目录（如cd /invalid/path）；3. 读取已被删除的文件
	syscall.ENOENT: "ENOENT",

	// ESRCH：进程不存在
	// 核心含义：试图操作的进程ID（PID）不存在，对应进程已退出或未创建
	// 常见场景：1. 调用kill命令终止不存在的PID；2. 尝试获取已退出进程的状态信息
	syscall.ESRCH: "ESRCH",

	// EINTR：系统调用被信号中断
	// 核心含义：进程在执行系统调用期间，收到了外部信号（如SIGINT、SIGTERM），导致系统调用未完成而中断
	// 常见场景：1. 程序执行IO操作时按下Ctrl+C；2. 后台进程执行网络请求时被系统信号打断；3. 定时任务信号中断文件读写
	syscall.EINTR: "EINTR",

	// EIO：输入/输出错误
	// 核心含义：底层硬件或设备执行输入/输出操作时发生故障，无法完成数据传输
	// 常见场景：1. 读取损坏的硬盘分区、U盘；2. 网络设备断开连接后仍尝试写入；3. 访问已移除的移动存储设备
	syscall.EIO: "EIO",

	// ENXIO：没有该设备或地址
	// 核心含义：指定的设备不存在，或设备上不存在指定的地址/端口，无法完成操作
	// 常见场景：1. 访问不存在的硬件设备（如/dev/ttyS10）；2. 向设备的无效端口写入数据；3. 挂载不存在的设备节点
	syscall.ENXIO: "ENXIO",

	// E2BIG：参数列表过长
	// 核心含义：传递给程序的命令行参数或环境变量总长度超过了操作系统的限制
	// 常见场景：1. 执行命令时传递大量超长参数；2. 环境变量过多且总长度超出系统限制（如ARG_MAX）；3. 批量传递文件路径导致参数溢出
	syscall.E2BIG: "E2BIG",

	// ENOEXEC：执行格式错误
	// 核心含义：试图执行的文件不是可执行文件，或可执行文件格式与当前系统不兼容
	// 常见场景：1. 执行非二进制文件（如直接运行txt、sh文件未加解释器）；2. 跨平台运行可执行文件（如Windowsexe在Linux上运行）；3. 可执行文件损坏或缺少依赖库
	syscall.ENOEXEC: "ENOEXEC",

	// EBADF：无效的文件描述符（Bad file descriptor）
	// 核心含义：进程试图使用一个「非法、已关闭、未初始化或超出有效范围」的文件描述符，执行文件/套接字等I/O操作，操作系统拒绝该无效操作
	// 常见场景：1. 操作已关闭的文件/网络套接字；2. 使用负数或超出范围的文件描述符；3. 子进程继承了父进程已关闭的文件描述符
	// 本质：文件描述符不合法，无法完成后续I/O操作
	syscall.EBADF: "EBADF",

	// ECHILD：没有子进程
	// 核心含义：进程试图等待、操作子进程，但当前进程没有活跃的子进程，或子进程已全部退出
	// 常见场景：1. 调用waitpid()等待不存在的子进程；2. 父进程多次调用wait()获取子进程状态；3. 子进程已退出且状态已被获取
	syscall.ECHILD: "ECHILD",

	// EAGAIN：资源暂时不可用（重试可能成功）
	// 核心含义：当前系统资源不足或操作会阻塞，由于设置了非阻塞模式，操作系统返回该错误提示重试
	// 常见场景：1. 非阻塞套接字读取时无数据可用；2. 缓冲区满无法写入数据（如管道、套接字发送缓冲区）；3. 系统内存不足无法分配临时资源
	syscall.EAGAIN: "EAGAIN",

	// // EWOULDBLOCK：操作会阻塞（与EAGAIN等价，历史兼容别名）
	// // 核心含义：与EAGAIN功能完全一致，标识非阻塞操作无法立即完成，需要重试
	// // 常见场景：与EAGAIN完全相同，主要用于兼容不同系统的命名习惯，优先使用EAGAIN即可
	// syscall.EWOULDBLOCK: "EWOULDBLOCK",

	// ENOMEM：内存不足
	// 核心含义：操作系统无法为进程分配足够的内存空间，无法完成当前操作
	// 常见场景：1. 程序申请大量内存（如超大切片、数组）超出系统可用内存；2. 系统内存耗尽，无法创建新进程/线程；3. 内存泄漏导致进程占用内存持续飙升
	syscall.ENOMEM: "ENOMEM",

	// EACCES：权限不足
	// 核心含义：当前进程对目标文件、目录或设备没有足够的操作权限，操作系统拒绝访问
	// 常见场景：1. 读写只读文件/目录；2. 执行无执行权限的二进制文件；3. 访问其他用户的私有文件（无读权限）
	syscall.EACCES: "EACCES",

	// EFAULT：地址错误（无效的内存地址）
	// 核心含义：进程试图访问的内存地址无效（如未分配、超出进程地址空间、只读内存写入）
	// 常见场景：1. 访问空指针指向的内存；2. 向只读内存区域写入数据；3. 传递无效的内存地址给系统调用
	syscall.EFAULT: "EFAULT",

	// ENOTBLK：不是块设备
	// 核心含义：试图对非块设备执行仅适用于块设备的操作（如挂载、格式化）
	// 常见场景：1. 试图挂载字符设备（如/dev/tty）；2. 对普通文件执行块设备专用操作；3. 格式化非块设备文件
	syscall.ENOTBLK: "ENOTBLK",

	// EBUSY：设备或资源忙
	// 核心含义：目标设备或资源正在被其他进程使用，无法执行当前操作（如独占访问、已挂载）
	// 常见场景：1. 卸载已被占用的挂载点（如当前目录在挂载目录下）；2. 打开已被独占锁定的文件；3. 操作正在运行的设备（如正在刻录的光盘）
	syscall.EBUSY: "EBUSY",

	// EEXIST：文件或目录已存在
	// 核心含义：试图创建的文件、目录已存在，无法重复创建
	// 常见场景：1. mkdir创建已存在的目录；2. open以创建模式打开已存在的文件；3. 重命名文件时目标文件已存在
	syscall.EEXIST: "EEXIST",

	// EXDEV：跨设备链接错误
	// 核心含义：试图在不同的文件系统/设备之间创建硬链接，操作系统不支持该操作
	// 常见场景：1. ln命令在不同硬盘分区之间创建硬链接；2. 程序调用link()函数跨设备链接文件；3. 跨NFS挂载点创建硬链接
	syscall.EXDEV: "EXDEV",

	// ENODEV：没有该设备
	// 核心含义：指定的设备不存在，或当前系统不支持该设备类型
	// 常见场景：1. 访问未加载的设备驱动对应的设备节点；2. 挂载不存在的设备类型；3. 程序试图使用系统不支持的硬件设备
	syscall.ENODEV: "ENODEV",

	// ENOTDIR：不是目录
	// 核心含义：试图对普通文件执行仅适用于目录的操作（如cd、mkdir在文件路径下）
	// 常见场景：1. cd命令进入普通文件；2. 打开目录的子文件时，父路径是普通文件；3. rmdir删除普通文件
	syscall.ENOTDIR: "ENOTDIR",

	// EISDIR：是目录（试图对目录执行文件操作）
	// 核心含义：试图对目录执行仅适用于普通文件的操作（如读写、执行）
	// 常见场景：1. read()/write()调用读写目录；2. 执行目录文件（如./testdir，其中testdir是目录）；3. 以写入模式打开目录
	syscall.EISDIR: "EISDIR",

	// EINVAL：无效的参数
	// 核心含义：传递给系统调用的参数无效（如参数值超出范围、参数格式错误、参数组合非法）
	// 常见场景：1. 调用函数时传递负数端口号；2. 格式化文件时传递无效的文件系统类型；3. 传递不支持的标志位给系统调用
	syscall.EINVAL: "EINVAL",

	// ENFILE：系统打开文件总数超出限制
	// 核心含义：整个操作系统打开的文件描述符总数达到了内核限制，无法再打开新文件
	// 常见场景：1. 系统中大量进程打开大量文件，耗尽系统级文件描述符限制；2. 内核参数fs.file-max设置过小；3. 恶意程序创建大量文件句柄耗尽系统资源
	syscall.ENFILE: "ENFILE",

	// EMFILE：进程打开文件数超出限制
	// 核心含义：当前进程打开的文件描述符数量达到了进程级限制，无法再打开新文件/套接字
	// 常见场景：1. 程序未关闭文件句柄导致资源泄漏；2. 进程打开大量网络套接字未释放；3. ulimit设置的进程文件句柄限制过小
	syscall.EMFILE: "EMFILE",

	// ENOTTY：不适当的I/O控制操作
	// 核心含义：试图对非终端设备执行终端专用的I/O控制操作（如tcsetattr、tcgetattr）
	// 常见场景：1. 对普通文件、网络套接字执行终端控制命令；2. 程序试图配置非终端设备的波特率、回显模式；3. 向非终端设备发送终端信号
	syscall.ENOTTY: "ENOTTY",

	// ETXTBSY：文本文件正忙
	// 核心含义：试图执行正在被写入、打开的可执行文件，操作系统禁止该操作
	// 常见场景：1. 运行正在被编辑、复制的二进制可执行文件；2. 对正在执行的可执行文件进行写入操作；3. 批量更新时试图运行正在被替换的程序
	syscall.ETXTBSY: "ETXTBSY",

	// EFBIG：文件过大
	// 核心含义：试图写入的文件大小超出了操作系统、文件系统或设备的限制
	// 常见场景：1. 向不支持大文件的文件系统（如FAT32）写入超过4GB的文件；2. 文件大小超出用户磁盘配额；3. 设备存储容量不足且文件过大无法写入
	syscall.EFBIG: "EFBIG",

	// ENOSPC：设备上没有剩余空间
	// 核心含义：目标存储设备的磁盘空间已耗尽，无法写入新数据或创建新文件
	// 常见场景：1. 向满容量的硬盘、U盘写入文件；2. 创建新文件时磁盘无剩余空间；3. 日志文件持续写入导致磁盘耗尽
	syscall.ENOSPC: "ENOSPC",

	// ESPIPE：非法的寻道操作
	// 核心含义：试图对管道、套接字等不支持随机访问的文件描述符执行seek（寻道）操作
	// 常见场景：1. 对管道（pipe）执行lseek()函数；2. 对网络套接字（socket）进行寻道操作；3. 对标准输入/输出（stdin/stdout）执行seek
	syscall.ESPIPE: "ESPIPE",

	// EROFS：只读文件系统
	// 核心含义：试图对以只读模式挂载的文件系统执行写入、修改、删除操作，操作系统拒绝
	// 常见场景：1. 向光盘（CD-ROM）、只读U盘写入文件；2. 对只读挂载的分区执行删除操作；3. 试图修改只读文件系统中的配置文件
	syscall.EROFS: "EROFS",

	// EMLINK：链接数过多
	// 核心含义：文件的硬链接数量达到了操作系统的限制，无法创建新的硬链接
	// 常见场景：1. 对单个文件创建大量硬链接超出系统限制；2. 批量创建硬链接时超出文件系统链接数上限；3. 系统参数限制了单个文件的最大硬链接数
	syscall.EMLINK: "EMLINK",

	// EPIPE：管道破裂
	// 核心含义：试图向已关闭读端的管道、已断开连接的套接字写入数据，通信链路已中断
	// 常见场景：1. 管道读端进程退出后，写端仍继续写入；2. 网络对方断开连接后，本地仍继续向套接字写入数据；3. 关闭TCP连接后仍发送数据
	syscall.EPIPE: "EPIPE",

	// EDOM：数学参数超出函数定义域
	// 核心含义：调用数学库函数时，传递的参数超出了该函数的有效定义域，无法计算有效结果
	// 常见场景：1. 对负数执行平方根运算（sqrt(-1)）；2. 对数函数传递非正数参数；3. 三角函数传递超出处理范围的参数
	syscall.EDOM: "EDOM",

	// ERANGE：数学结果超出表示范围
	// 核心含义：数学函数计算的结果超出了当前数据类型的表示范围，无法存储或返回
	// 常见场景：1. 大数运算超出浮点数的最大值；2. 高精度计算结果超出整数类型的取值范围；3. 指数运算结果溢出
	syscall.ERANGE: "ERANGE",

	// EADDRINUSE：地址/端口已被占用
	// 核心含义：试图将套接字绑定到已被其他进程占用的IP地址和端口组合，绑定操作失败
	// 常见场景：1. 绑定已被其他程序占用的端口（如8080、3306）；2. 同一IP上重复绑定相同端口且未设置SO_REUSEADDR；3. 进程退出后端口未及时释放（TIME_WAIT状态）
	syscall.EADDRINUSE: "EADDRINUSE",

	// EADDRNOTAVAIL：地址不可用
	// 核心含义：试图绑定的IP地址不是当前主机的有效地址，或地址无法用于当前操作
	// 常见场景：1. 绑定不存在的IP地址（如本机未配置192.168.1.100却试图绑定）；2. 向广播地址执行非广播操作；3. 跨网卡绑定不属于当前主机的IP
	syscall.EADDRNOTAVAIL: "EADDRNOTAVAIL",

	// EAFNOSUPPORT：地址族不支持
	// 核心含义：套接字操作使用的地址族（如IPv4、IPv6）不被当前系统或协议支持
	// 常见场景：1. 系统禁用IPv6后仍试图使用AF_INET6地址族；2. 传递不支持的地址族给套接字创建函数；3. 跨平台程序在不支持某地址族的系统上运行
	syscall.EAFNOSUPPORT: "EAFNOSUPPORT",

	// ENETDOWN：网络已关闭
	// 核心含义：当前主机的网络接口已关闭、故障，或网络层无法正常工作，无法执行网络操作
	// 常见场景：1. 网卡被禁用、网线断开后执行网络请求；2. 网络驱动故障导致网络层不可用；3. 防火墙禁用了所有网络接口
	syscall.ENETDOWN: "ENETDOWN",

	// ENETUNREACH：网络不可达
	// 核心含义：目标网络无法到达，没有有效的路由可以将数据包发送到目标主机/网络
	// 常见场景：1. 本机与目标主机不在同一网段且无路由；2. 目标网络已断开或不存在；3. 路由表配置错误导致无法找到目标网络
	syscall.ENETUNREACH: "ENETUNREACH",

	// ENETRESET：网络连接被重置（由于网络错误）
	// 核心含义：网络连接在数据传输过程中，由于网络层故障（如路由变化、接口重置）被强制重置
	// 常见场景：1. 数据传输过程中网卡重启；2. 路由变化导致现有连接失效；3. 网络设备（路由器）重启导致连接被重置
	syscall.ENETRESET: "ENETRESET",

	// ECONNABORTED：连接被中止（本地端）
	// 核心含义：网络连接在建立或数据传输过程中，被本地主机中止（如应用程序关闭、防火墙拦截）
	// 常见场景：1. 客户端在连接建立过程中主动关闭套接字；2. 本地防火墙拦截并中止连接；3. 程序异常退出导致连接被中止
	syscall.ECONNABORTED: "ECONNABORTED",

	// ECONNRESET：连接被重置（对方端）
	// 核心含义：网络连接被对方主机主动重置，或对方进程异常退出、套接字被强制关闭
	// 常见场景：1. 对方程序异常退出未关闭连接；2. 对方主动关闭连接并发送RST包；3. 防火墙拦截对方数据导致连接被重置
	syscall.ECONNRESET: "ECONNRESET",

	// ENOBUFS：没有可用的缓冲区空间
	// 核心含义：操作系统的网络缓冲区、IO缓冲区已耗尽，无法接收或发送数据
	// 常见场景：1. 高并发网络请求导致套接字发送/接收缓冲区满；2. 系统缓冲区参数设置过小；3. 大量数据同时传输耗尽缓冲区资源
	syscall.ENOBUFS: "ENOBUFS",

	// EISCONN：套接字已连接（试图重复连接）
	// 核心含义：试图对已建立连接的套接字（如TCP已连接套接字）执行连接操作，操作无效
	// 常见场景：1. 对已连接的TCP套接字重复调用connect()函数；2. 试图向已连接的套接字执行监听操作；3. 重复初始化已连接的网络连接
	syscall.EISCONN: "EISCONN",

	// ENOTCONN：套接字未连接（试图执行已连接操作）
	// 核心含义：试图对未建立连接的套接字（如UDP套接字、未连接的TCP套接字）执行仅适用于已连接套接字的操作
	// 常见场景：1. 对未连接的TCP套接字执行send()函数（未指定目标地址）；2. 试图关闭未建立连接的套接字的连接状态；3. 对UDP套接字执行已连接专属操作
	syscall.ENOTCONN: "ENOTCONN",

	// ETIMEDOUT：连接超时
	// 核心含义：网络连接建立过程中或数据传输过程中，超出了预设的超时时间，未收到对方响应
	// 常见场景：1. 连接目标主机时对方端口未开放，超时无响应；2. 网络延迟过高导致数据传输超时；3. 防火墙丢弃数据包导致超时无响应
	syscall.ETIMEDOUT: "ETIMEDOUT",

	// ECONNREFUSED：连接被拒绝
	// 核心含义：试图连接的目标主机端口已开启，但无进程监听该端口，或对方主动拒绝连接
	// 常见场景：1. 连接目标主机的未监听端口（如对方未启动服务）；2. 对方防火墙拒绝连接请求；3. 服务进程退出后端口未释放，连接被拒绝
	syscall.ECONNREFUSED: "ECONNREFUSED",
}

func ErrCode(err error) (name, code string, ok bool) {
	var errno syscall.Errno
	if errors.As(err, &errno) {
		if name, ok = errMap[errno]; ok {
			code = "0x" + strconv.FormatInt(int64(errno), 16)
			return
		}
	}
	return
}

// 封装syscall核心错误常量，附带中文注释（核心含义+常见场景）
// 注：仅整理开发中高频使用的核心错误，完整常量可参考syscall包源码
const (
	// EPERM：操作不被允许（无足够特权执行该操作）
	// 核心含义：普通用户尝试执行需要root/管理员特权的操作，操作系统拒绝执行
	// 常见场景：1. 普通用户绑定1024以下的知名端口（如80、443）；2. 修改系统级只读文件；3. 杀死不属于自己的进程
	EPERM = syscall.EPERM

	// ENOENT：文件或目录不存在
	// 核心含义：指定的文件路径、目录路径不存在，无法执行后续操作
	// 常见场景：1. 打开不存在的文件（如/tmp/non_exist.txt）；2. 访问不存在的目录（如cd /invalid/path）；3. 读取已被删除的文件
	ENOENT = syscall.ENOENT

	// ESRCH：进程不存在
	// 核心含义：试图操作的进程ID（PID）不存在，对应进程已退出或未创建
	// 常见场景：1. 调用kill命令终止不存在的PID；2. 尝试获取已退出进程的状态信息
	ESRCH = syscall.ESRCH

	// EINTR：系统调用被信号中断
	// 核心含义：进程在执行系统调用期间，收到了外部信号（如SIGINT、SIGTERM），导致系统调用未完成而中断
	// 常见场景：1. 程序执行IO操作时按下Ctrl+C；2. 后台进程执行网络请求时被系统信号打断；3. 定时任务信号中断文件读写
	EINTR = syscall.EINTR

	// EIO：输入/输出错误
	// 核心含义：底层硬件或设备执行输入/输出操作时发生故障，无法完成数据传输
	// 常见场景：1. 读取损坏的硬盘分区、U盘；2. 网络设备断开连接后仍尝试写入；3. 访问已移除的移动存储设备
	EIO = syscall.EIO

	// ENXIO：没有该设备或地址
	// 核心含义：指定的设备不存在，或设备上不存在指定的地址/端口，无法完成操作
	// 常见场景：1. 访问不存在的硬件设备（如/dev/ttyS10）；2. 向设备的无效端口写入数据；3. 挂载不存在的设备节点
	ENXIO = syscall.ENXIO

	// E2BIG：参数列表过长
	// 核心含义：传递给程序的命令行参数或环境变量总长度超过了操作系统的限制
	// 常见场景：1. 执行命令时传递大量超长参数；2. 环境变量过多且总长度超出系统限制（如ARG_MAX）；3. 批量传递文件路径导致参数溢出
	E2BIG = syscall.E2BIG

	// ENOEXEC：执行格式错误
	// 核心含义：试图执行的文件不是可执行文件，或可执行文件格式与当前系统不兼容
	// 常见场景：1. 执行非二进制文件（如直接运行txt、sh文件未加解释器）；2. 跨平台运行可执行文件（如Windowsexe在Linux上运行）；3. 可执行文件损坏或缺少依赖库
	ENOEXEC = syscall.ENOEXEC

	// EBADF：无效的文件描述符（Bad file descriptor）
	// 核心含义：进程试图使用一个「非法、已关闭、未初始化或超出有效范围」的文件描述符，执行文件/套接字等I/O操作，操作系统拒绝该无效操作
	// 常见场景：1. 操作已关闭的文件/网络套接字；2. 使用负数或超出范围的文件描述符；3. 子进程继承了父进程已关闭的文件描述符
	// 本质：文件描述符不合法，无法完成后续I/O操作
	EBADF = syscall.EBADF

	// ECHILD：没有子进程
	// 核心含义：进程试图等待、操作子进程，但当前进程没有活跃的子进程，或子进程已全部退出
	// 常见场景：1. 调用waitpid()等待不存在的子进程；2. 父进程多次调用wait()获取子进程状态；3. 子进程已退出且状态已被获取
	ECHILD = syscall.ECHILD

	// EAGAIN：资源暂时不可用（重试可能成功）
	// 核心含义：当前系统资源不足或操作会阻塞，由于设置了非阻塞模式，操作系统返回该错误提示重试
	// 常见场景：1. 非阻塞套接字读取时无数据可用；2. 缓冲区满无法写入数据（如管道、套接字发送缓冲区）；3. 系统内存不足无法分配临时资源
	EAGAIN = syscall.EAGAIN

	// EWOULDBLOCK：操作会阻塞（与EAGAIN等价，历史兼容别名）
	// 核心含义：与EAGAIN功能完全一致，标识非阻塞操作无法立即完成，需要重试
	// 常见场景：与EAGAIN完全相同，主要用于兼容不同系统的命名习惯，优先使用EAGAIN即可
	EWOULDBLOCK = syscall.EWOULDBLOCK

	// ENOMEM：内存不足
	// 核心含义：操作系统无法为进程分配足够的内存空间，无法完成当前操作
	// 常见场景：1. 程序申请大量内存（如超大切片、数组）超出系统可用内存；2. 系统内存耗尽，无法创建新进程/线程；3. 内存泄漏导致进程占用内存持续飙升
	ENOMEM = syscall.ENOMEM

	// EACCES：权限不足
	// 核心含义：当前进程对目标文件、目录或设备没有足够的操作权限，操作系统拒绝访问
	// 常见场景：1. 读写只读文件/目录；2. 执行无执行权限的二进制文件；3. 访问其他用户的私有文件（无读权限）
	EACCES = syscall.EACCES

	// EFAULT：地址错误（无效的内存地址）
	// 核心含义：进程试图访问的内存地址无效（如未分配、超出进程地址空间、只读内存写入）
	// 常见场景：1. 访问空指针指向的内存；2. 向只读内存区域写入数据；3. 传递无效的内存地址给系统调用
	EFAULT = syscall.EFAULT

	// ENOTBLK：不是块设备
	// 核心含义：试图对非块设备执行仅适用于块设备的操作（如挂载、格式化）
	// 常见场景：1. 试图挂载字符设备（如/dev/tty）；2. 对普通文件执行块设备专用操作；3. 格式化非块设备文件
	ENOTBLK = syscall.ENOTBLK

	// EBUSY：设备或资源忙
	// 核心含义：目标设备或资源正在被其他进程使用，无法执行当前操作（如独占访问、已挂载）
	// 常见场景：1. 卸载已被占用的挂载点（如当前目录在挂载目录下）；2. 打开已被独占锁定的文件；3. 操作正在运行的设备（如正在刻录的光盘）
	EBUSY = syscall.EBUSY

	// EEXIST：文件或目录已存在
	// 核心含义：试图创建的文件、目录已存在，无法重复创建
	// 常见场景：1. mkdir创建已存在的目录；2. open以创建模式打开已存在的文件；3. 重命名文件时目标文件已存在
	EEXIST = syscall.EEXIST

	// EXDEV：跨设备链接错误
	// 核心含义：试图在不同的文件系统/设备之间创建硬链接，操作系统不支持该操作
	// 常见场景：1. ln命令在不同硬盘分区之间创建硬链接；2. 程序调用link()函数跨设备链接文件；3. 跨NFS挂载点创建硬链接
	EXDEV = syscall.EXDEV

	// ENODEV：没有该设备
	// 核心含义：指定的设备不存在，或当前系统不支持该设备类型
	// 常见场景：1. 访问未加载的设备驱动对应的设备节点；2. 挂载不存在的设备类型；3. 程序试图使用系统不支持的硬件设备
	ENODEV = syscall.ENODEV

	// ENOTDIR：不是目录
	// 核心含义：试图对普通文件执行仅适用于目录的操作（如cd、mkdir在文件路径下）
	// 常见场景：1. cd命令进入普通文件；2. 打开目录的子文件时，父路径是普通文件；3. rmdir删除普通文件
	ENOTDIR = syscall.ENOTDIR

	// EISDIR：是目录（试图对目录执行文件操作）
	// 核心含义：试图对目录执行仅适用于普通文件的操作（如读写、执行）
	// 常见场景：1. read()/write()调用读写目录；2. 执行目录文件（如./testdir，其中testdir是目录）；3. 以写入模式打开目录
	EISDIR = syscall.EISDIR

	// EINVAL：无效的参数
	// 核心含义：传递给系统调用的参数无效（如参数值超出范围、参数格式错误、参数组合非法）
	// 常见场景：1. 调用函数时传递负数端口号；2. 格式化文件时传递无效的文件系统类型；3. 传递不支持的标志位给系统调用
	EINVAL = syscall.EINVAL

	// ENFILE：系统打开文件总数超出限制
	// 核心含义：整个操作系统打开的文件描述符总数达到了内核限制，无法再打开新文件
	// 常见场景：1. 系统中大量进程打开大量文件，耗尽系统级文件描述符限制；2. 内核参数fs.file-max设置过小；3. 恶意程序创建大量文件句柄耗尽系统资源
	ENFILE = syscall.ENFILE

	// EMFILE：进程打开文件数超出限制
	// 核心含义：当前进程打开的文件描述符数量达到了进程级限制，无法再打开新文件/套接字
	// 常见场景：1. 程序未关闭文件句柄导致资源泄漏；2. 进程打开大量网络套接字未释放；3. ulimit设置的进程文件句柄限制过小
	EMFILE = syscall.EMFILE

	// ENOTTY：不适当的I/O控制操作
	// 核心含义：试图对非终端设备执行终端专用的I/O控制操作（如tcsetattr、tcgetattr）
	// 常见场景：1. 对普通文件、网络套接字执行终端控制命令；2. 程序试图配置非终端设备的波特率、回显模式；3. 向非终端设备发送终端信号
	ENOTTY = syscall.ENOTTY

	// ETXTBSY：文本文件正忙
	// 核心含义：试图执行正在被写入、打开的可执行文件，操作系统禁止该操作
	// 常见场景：1. 运行正在被编辑、复制的二进制可执行文件；2. 对正在执行的可执行文件进行写入操作；3. 批量更新时试图运行正在被替换的程序
	ETXTBSY = syscall.ETXTBSY

	// EFBIG：文件过大
	// 核心含义：试图写入的文件大小超出了操作系统、文件系统或设备的限制
	// 常见场景：1. 向不支持大文件的文件系统（如FAT32）写入超过4GB的文件；2. 文件大小超出用户磁盘配额；3. 设备存储容量不足且文件过大无法写入
	EFBIG = syscall.EFBIG

	// ENOSPC：设备上没有剩余空间
	// 核心含义：目标存储设备的磁盘空间已耗尽，无法写入新数据或创建新文件
	// 常见场景：1. 向满容量的硬盘、U盘写入文件；2. 创建新文件时磁盘无剩余空间；3. 日志文件持续写入导致磁盘耗尽
	ENOSPC = syscall.ENOSPC

	// ESPIPE：非法的寻道操作
	// 核心含义：试图对管道、套接字等不支持随机访问的文件描述符执行seek（寻道）操作
	// 常见场景：1. 对管道（pipe）执行lseek()函数；2. 对网络套接字（socket）进行寻道操作；3. 对标准输入/输出（stdin/stdout）执行seek
	ESPIPE = syscall.ESPIPE

	// EROFS：只读文件系统
	// 核心含义：试图对以只读模式挂载的文件系统执行写入、修改、删除操作，操作系统拒绝
	// 常见场景：1. 向光盘（CD-ROM）、只读U盘写入文件；2. 对只读挂载的分区执行删除操作；3. 试图修改只读文件系统中的配置文件
	EROFS = syscall.EROFS

	// EMLINK：链接数过多
	// 核心含义：文件的硬链接数量达到了操作系统的限制，无法创建新的硬链接
	// 常见场景：1. 对单个文件创建大量硬链接超出系统限制；2. 批量创建硬链接时超出文件系统链接数上限；3. 系统参数限制了单个文件的最大硬链接数
	EMLINK = syscall.EMLINK

	// EPIPE：管道破裂
	// 核心含义：试图向已关闭读端的管道、已断开连接的套接字写入数据，通信链路已中断
	// 常见场景：1. 管道读端进程退出后，写端仍继续写入；2. 网络对方断开连接后，本地仍继续向套接字写入数据；3. 关闭TCP连接后仍发送数据
	EPIPE = syscall.EPIPE

	// EDOM：数学参数超出函数定义域
	// 核心含义：调用数学库函数时，传递的参数超出了该函数的有效定义域，无法计算有效结果
	// 常见场景：1. 对负数执行平方根运算（sqrt(-1)）；2. 对数函数传递非正数参数；3. 三角函数传递超出处理范围的参数
	EDOM = syscall.EDOM

	// ERANGE：数学结果超出表示范围
	// 核心含义：数学函数计算的结果超出了当前数据类型的表示范围，无法存储或返回
	// 常见场景：1. 大数运算超出浮点数的最大值；2. 高精度计算结果超出整数类型的取值范围；3. 指数运算结果溢出
	ERANGE = syscall.ERANGE

	// EADDRINUSE：地址/端口已被占用
	// 核心含义：试图将套接字绑定到已被其他进程占用的IP地址和端口组合，绑定操作失败
	// 常见场景：1. 绑定已被其他程序占用的端口（如8080、3306）；2. 同一IP上重复绑定相同端口且未设置SO_REUSEADDR；3. 进程退出后端口未及时释放（TIME_WAIT状态）
	EADDRINUSE = syscall.EADDRINUSE

	// EADDRNOTAVAIL：地址不可用
	// 核心含义：试图绑定的IP地址不是当前主机的有效地址，或地址无法用于当前操作
	// 常见场景：1. 绑定不存在的IP地址（如本机未配置192.168.1.100却试图绑定）；2. 向广播地址执行非广播操作；3. 跨网卡绑定不属于当前主机的IP
	EADDRNOTAVAIL = syscall.EADDRNOTAVAIL

	// EAFNOSUPPORT：地址族不支持
	// 核心含义：套接字操作使用的地址族（如IPv4、IPv6）不被当前系统或协议支持
	// 常见场景：1. 系统禁用IPv6后仍试图使用AF_INET6地址族；2. 传递不支持的地址族给套接字创建函数；3. 跨平台程序在不支持某地址族的系统上运行
	EAFNOSUPPORT = syscall.EAFNOSUPPORT

	// ENETDOWN：网络已关闭
	// 核心含义：当前主机的网络接口已关闭、故障，或网络层无法正常工作，无法执行网络操作
	// 常见场景：1. 网卡被禁用、网线断开后执行网络请求；2. 网络驱动故障导致网络层不可用；3. 防火墙禁用了所有网络接口
	ENETDOWN = syscall.ENETDOWN

	// ENETUNREACH：网络不可达
	// 核心含义：目标网络无法到达，没有有效的路由可以将数据包发送到目标主机/网络
	// 常见场景：1. 本机与目标主机不在同一网段且无路由；2. 目标网络已断开或不存在；3. 路由表配置错误导致无法找到目标网络
	ENETUNREACH = syscall.ENETUNREACH

	// ENETRESET：网络连接被重置（由于网络错误）
	// 核心含义：网络连接在数据传输过程中，由于网络层故障（如路由变化、接口重置）被强制重置
	// 常见场景：1. 数据传输过程中网卡重启；2. 路由变化导致现有连接失效；3. 网络设备（路由器）重启导致连接被重置
	ENETRESET = syscall.ENETRESET

	// ECONNABORTED：连接被中止（本地端）
	// 核心含义：网络连接在建立或数据传输过程中，被本地主机中止（如应用程序关闭、防火墙拦截）
	// 常见场景：1. 客户端在连接建立过程中主动关闭套接字；2. 本地防火墙拦截并中止连接；3. 程序异常退出导致连接被中止
	ECONNABORTED = syscall.ECONNABORTED

	// ECONNRESET：连接被重置（对方端）
	// 核心含义：网络连接被对方主机主动重置，或对方进程异常退出、套接字被强制关闭
	// 常见场景：1. 对方程序异常退出未关闭连接；2. 对方主动关闭连接并发送RST包；3. 防火墙拦截对方数据导致连接被重置
	ECONNRESET = syscall.ECONNRESET

	// ENOBUFS：没有可用的缓冲区空间
	// 核心含义：操作系统的网络缓冲区、IO缓冲区已耗尽，无法接收或发送数据
	// 常见场景：1. 高并发网络请求导致套接字发送/接收缓冲区满；2. 系统缓冲区参数设置过小；3. 大量数据同时传输耗尽缓冲区资源
	ENOBUFS = syscall.ENOBUFS

	// EISCONN：套接字已连接（试图重复连接）
	// 核心含义：试图对已建立连接的套接字（如TCP已连接套接字）执行连接操作，操作无效
	// 常见场景：1. 对已连接的TCP套接字重复调用connect()函数；2. 试图向已连接的套接字执行监听操作；3. 重复初始化已连接的网络连接
	EISCONN = syscall.EISCONN

	// ENOTCONN：套接字未连接（试图执行已连接操作）
	// 核心含义：试图对未建立连接的套接字（如UDP套接字、未连接的TCP套接字）执行仅适用于已连接套接字的操作
	// 常见场景：1. 对未连接的TCP套接字执行send()函数（未指定目标地址）；2. 试图关闭未建立连接的套接字的连接状态；3. 对UDP套接字执行已连接专属操作
	ENOTCONN = syscall.ENOTCONN

	// ETIMEDOUT：连接超时
	// 核心含义：网络连接建立过程中或数据传输过程中，超出了预设的超时时间，未收到对方响应
	// 常见场景：1. 连接目标主机时对方端口未开放，超时无响应；2. 网络延迟过高导致数据传输超时；3. 防火墙丢弃数据包导致超时无响应
	ETIMEDOUT = syscall.ETIMEDOUT

	// ECONNREFUSED：连接被拒绝
	// 核心含义：试图连接的目标主机端口已开启，但无进程监听该端口，或对方主动拒绝连接
	// 常见场景：1. 连接目标主机的未监听端口（如对方未启动服务）；2. 对方防火墙拒绝连接请求；3. 服务进程退出后端口未释放，连接被拒绝
	ECONNREFUSED = syscall.ECONNREFUSED
)
